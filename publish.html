<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>发布文章 - 毋喆祥的博客</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" rel="stylesheet">
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#3B82F6',
            secondary: '#6366F1',
            accent: '#EC4899',
            dark: '#1E293B',
            light: '#F8FAFC'
          },
          fontFamily: {
            inter: ['Inter', 'system-ui', 'sans-serif'],
          },
        },
      }
    }
  </script>
  <style type="text/tailwindcss">
    @layer utilities {
      .content-auto {
        content-visibility: auto;
      }
      .text-shadow {
        text-shadow: 0 2px 4px rgba(0,0,0,0.1);
      }
      .transition-custom {
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      }
    }
  </style>
</head>
<body class="font-inter bg-gray-50 text-gray-800 min-h-screen flex flex-col">
  <!-- 导航栏 -->
  <header class="sticky top-0 z-50 bg-white/90 backdrop-blur-sm shadow-sm transition-all duration-300">
    <nav class="container mx-auto px-4 py-4 flex justify-between items-center">
      <div class="flex items-center space-x-2">
        <div class="w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center">
          <span class="text-primary font-bold text-xl">W</span>
        </div>
        <a href="index.html" class="text-xl font-bold text-gray-800">毋喆祥的博客</a>
      </div>
      
      <!-- 桌面导航 -->
      <div class="hidden md:flex items-center space-x-8">
        <a href="index.html" class="text-gray-600 hover:text-primary transition-colors">首页</a>
        <a href="#" class="text-gray-600 hover:text-primary transition-colors">关于我</a>
        <a href="#" class="text-gray-600 hover:text-primary transition-colors">文章分类</a>
        <a href="#" class="text-gray-600 hover:text-primary transition-colors">摄影作品</a>
        <a href="#" class="text-gray-600 hover:text-primary transition-colors">联系我</a>
      </div>
      
      <!-- 移动端菜单按钮 -->
      <button id="menuBtn" class="md:hidden text-gray-700 focus:outline-none">
        <i class="fa-solid fa-bars text-xl"></i>
      </button>
    </nav>
    
    <!-- 移动端导航菜单 -->
    <div id="mobileMenu" class="md:hidden hidden bg-white border-t">
      <div class="container mx-auto px-4 py-3 flex flex-col space-y-3">
        <a href="index.html" class="text-gray-600 hover:text-primary transition-colors py-2">首页</a>
        <a href="#" class="text-gray-600 hover:text-primary transition-colors py-2">关于我</a>
        <a href="#" class="text-gray-600 hover:text-primary transition-colors py-2">文章分类</a>
        <a href="#" class="text-gray-600 hover:text-primary transition-colors py-2">摄影作品</a>
        <a href="#" class="text-gray-600 hover:text-primary transition-colors py-2">联系我</a>
      </div>
    </div>
  </header>

  <!-- 主要内容区 -->
  <main class="flex-grow container mx-auto px-4 py-8 md:py-12">
    <div class="max-w-4xl mx-auto">
      <div class="mb-8">
        <h1 class="text-3xl font-bold text-gray-800 mb-2">发布新文章</h1>
        <p class="text-gray-600">分享你的见解和经验，与读者建立连接</p>
      </div>
      
      <form id="articleForm" class="bg-white rounded-2xl shadow-md p-6 md:p-8">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
          <div>
            <label for="title" class="block text-sm font-medium text-gray-700 mb-1">文章标题 <span class="text-red-500">*</span></label>
            <input type="text" id="title" name="title" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-all" placeholder="输入文章标题" required>
          </div>
          
          <div>
            <label for="category" class="block text-sm font-medium text-gray-700 mb-1">文章分类 <span class="text-red-500">*</span></label>
            <select id="category" name="category" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-all" required>
              <option value="" disabled selected>选择分类</option>
              <option value="市场营销">市场营销</option>
              <option value="数据分析">数据分析</option>
              <option value="摄影">摄影</option>
              <option value="设计">设计</option>
              <option value="行业动态">行业动态</option>
              <option value="其他">其他</option>
            </select>
          </div>
        </div>
        
        <div class="mb-6">
          <label for="imageUrl" class="block text-sm font-medium text-gray-700 mb-1">封面图片 URL</label>
          <input type="text" id="imageUrl" name="imageUrl" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-all" placeholder="输入图片URL (可选)">
          <p class="text-xs text-gray-500 mt-1">如果不填写，将使用默认图片</p>
        </div>
        
        <div class="mb-6">
          <label for="content" class="block text-sm font-medium text-gray-700 mb-1">文章内容 <span class="text-red-500">*</span></label>
          <textarea id="content" name="content" rows="12" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-all" placeholder="输入文章内容..." required></textarea>
        </div>
        
        <div class="flex justify-end space-x-4">
          <button type="button" id="cancelBtn" class="px-6 py-2.5 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors">
            取消
          </button>
          <button type="submit" class="px-6 py-2.5 bg-primary text-white rounded-lg shadow-md hover:bg-primary/90 transition-all hover:shadow-lg transform hover:-translate-y-0.5">
            <i class="fa-solid fa-paper-plane mr-2"></i>
            发布文章
          </button>
        </div>
      </form>
    </div>
  </main>

  <!-- 页脚 -->
  <footer class="bg-gray-800 text-white py-12">
    <div class="container mx-auto px-4">
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
        <div>
          <div class="flex items-center space-x-2 mb-4">
            <div class="w-10 h-10 rounded-full bg-primary/20 flex items-center justify-center">
              <span class="text-primary font-bold text-xl">W</span>
            </div>
            <span class="text-xl font-bold">毋喆祥的博客</span>
          </div>
          <p class="text-gray-400 mb-4">分享营销案例与行业洞察，探索数字化营销的无限可能。</p>
          <div class="flex space-x-4">
            <a href="#" class="text-gray-400 hover:text-white transition-colors">
              <i class="fa-brands fa-weibo text-xl"></i>
            </a>
            <a href="#" class="text-gray-400 hover:text-white transition-colors">
              <i class="fa-brands fa-wechat text-xl"></i>
            </a>
            <a href="#" class="text-gray-400 hover:text-white transition-colors">
              <i class="fa-brands fa-linkedin text-xl"></i>
            </a>
            <a href="#" class="text-gray-400 hover:text-white transition-colors">
              <i class="fa-brands fa-github text-xl"></i>
            </a>
          </div>
        </div>
        
        <div>
          <h4 class="text-lg font-bold mb-4">快速链接</h4>
          <ul class="space-y-2">
            <li><a href="index.html" class="text-gray-400 hover:text-white transition-colors">首页</a></li>
            <li><a href="#" class="text-gray-400 hover:text-white transition-colors">关于我</a></li>
            <li><a href="#" class="text-gray-400 hover:text-white transition-colors">文章分类</a></li>
            <li><a href="#" class="text-gray-400 hover:text-white transition-colors">摄影作品</a></li>
            <li><a href="#" class="text-gray-400 hover:text-white transition-colors">联系我</a></li>
          </ul>
        </div>
        
        <div>
          <h4 class="text-lg font-bold mb-4">订阅更新</h4>
          <p class="text-gray-400 mb-4">订阅我的博客，获取最新文章和行业动态。</p>
          <form class="flex">
            <input type="email" placeholder="输入您的邮箱" class="px-4 py-2 rounded-l-lg flex-grow focus:outline-none focus:ring-2 focus:ring-primary text-gray-800">
            <button type="submit" class="bg-primary px-4 py-2 rounded-r-lg hover:bg-primary/90 transition-colors">
              <i class="fa-solid fa-paper-plane"></i>
            </button>
          </form>
        </div>
      </div>
      
      <div class="border-t border-gray-700 mt-8 pt-8 flex flex-col md:flex-row justify-between items-center">
        <p class="text-gray-400 text-sm">© 2025 毋喆祥的博客. 保留所有权利.</p>
        <div class="flex space-x-6 mt-4 md:mt-0">
          <a href="#" class="text-gray-400 hover:text-white text-sm transition-colors">隐私政策</a>
          <a href="#" class="text-gray-400 hover:text-white text-sm transition-colors">使用条款</a>
          <a href="#" class="text-gray-400 hover:text-white text-sm transition-colors">Cookie 政策</a>
        </div>
      </div>
    </div>
  </footer>

  <!-- 成功提示模态框 -->
  <div id="successModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
    <div class="bg-white rounded-2xl p-6 max-w-md w-full mx-4 transform transition-all">
      <div class="text-center">
        <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
          <i class="fa-solid fa-check text-green-500 text-2xl"></i>
        </div>
        <h3 class="text-xl font-bold text-gray-800 mb-2">文章发布成功！</h3>
        <p class="text-gray-600 mb-6">你的文章已成功发布，点击下方按钮查看。</p>
        <div class="flex justify-center space-x-4">
          <button id="viewArticleBtn" class="px-6 py-2.5 bg-primary text-white rounded-lg shadow-md hover:bg-primary/90 transition-all">
            查看文章
          </button>
          <button id="newArticleBtn" class="px-6 py-2.5 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors">
            继续发布
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- JavaScript -->
  <script>
    // 移动端菜单切换
    const menuBtn = document.getElementById('menuBtn');
    const mobileMenu = document.getElementById('mobileMenu');
    
    menuBtn.addEventListener('click', () => {
      mobileMenu.classList.toggle('hidden');
      menuBtn.innerHTML = mobileMenu.classList.contains('hidden') 
        ? '<i class="fa-solid fa-bars text-xl"></i>' 
        : '<i class="fa-solid fa-times text-xl"></i>';
    });
    
    // 导航栏滚动效果
    const header = document.querySelector('header');
    let lastScrollY = window.scrollY;
    
    window.addEventListener('scroll', () => {
      if (window.scrollY > 50) {
        header.classList.add('py-2', 'shadow-md');
        header.classList.remove('py-4', 'shadow-sm');
      } else {
        header.classList.add('py-4', 'shadow-sm');
        header.classList.remove('py-2', 'shadow-md');
      }
      
      lastScrollY = window.scrollY;
    });
    
    // 获取当前日期
    function getCurrentDate() {
      const date = new Date();
      const year = date.getFullYear();
      const month = String(date.getMonth() + 1).padStart(2, '0');
      const day = String(date.getDate()).padStart(2, '0');
      return `${year}-${month}-${day}`;
    }
    
    // 文章表单提交
    const articleForm = document.getElementById('articleForm');
    const successModal = document.getElementById('successModal');
    const cancelBtn = document.getElementById('cancelBtn');
    const viewArticleBtn = document.getElementById('viewArticleBtn');
    const newArticleBtn = document.getElementById('newArticleBtn');
    
    // 取消发布
    cancelBtn.addEventListener('click', () => {
      if (confirm('确定要取消发布吗？所有未保存的内容将丢失。')) {
        window.location.href = 'index.html';
      }
    });
    
    // 生成唯一ID
    function generateUniqueId() {
      return 'art' + Date.now().toString(36) + Math.random().toString(36).substr(2, 5);
    }
    
    articleForm.addEventListener('submit', (e) => {
      e.preventDefault();
      
      const title = document.getElementById('title').value;
      const category = document.getElementById('category').value;
      const imageUrl = document.getElementById('imageUrl').value;
      const content = document.getElementById('content').value;
      const date = getCurrentDate();
      const id = generateUniqueId();
      
      // 创建文章对象
      const newArticle = {
        id,
        title,
        content,
        category,
        date,
        image: imageUrl || 'https://picsum.photos/600/400?random=' + Math.floor(Math.random() * 100)
      };
      
      // 保存文章到localStorage
      let savedArticles = JSON.parse(localStorage.getItem('articles')) || [];
      savedArticles.unshift(newArticle); // 添加到数组开头
      localStorage.setItem('articles', JSON.stringify(savedArticles));
      
      // 存储当前文章ID供查看文章使用
      localStorage.setItem('currentArticleId', id);
      
      // 显示成功模态框
      successModal.classList.remove('hidden');
    });
    
    // 查看文章按钮
    viewArticleBtn.addEventListener('click', () => {
      window.location.href = 'article.html';
    });
    
    // 继续发布按钮
    newArticleBtn.addEventListener('click', () => {
      articleForm.reset();
      successModal.classList.add('hidden');
    });
  </script>
</body>
</html>
    